<!doctype html><html lang=en-us><head><script type=application/ld+json>{"@context":"http://schema.org","@type":"Website","@id":"https:\/\/kevinwang930.github.io\/","author":{"@type":"Person","name":"Kevin Wang","image":"https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png"},"name":"Kevin wang\u0027s blog","description":"\u003cp\u003eKafka is an open-source distributed event streaming platform\u003c\/p\u003e","url":"https:\/\/kevinwang930.github.io\/post\/data\/event\/kafka\/","keywords":"[event stream, kafka]"}</script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo 0.143.1 with theme Tranquilpeak 0.5.3-BETA"><meta name=author content="Kevin Wang"><meta name=keywords content="event stream,kafka"><meta name=description content="Kafka is an open-source distributed event streaming platform"><meta property="og:description" content="Kafka is an open-source distributed event streaming platform"><meta property="og:type" content="article"><meta property="og:title" content="kafka introduction"><meta name=twitter:title content="kafka introduction"><meta property="og:url" content="https://kevinwang930.github.io/post/data/event/kafka/"><meta property="twitter:url" content="https://kevinwang930.github.io/post/data/event/kafka/"><meta property="og:site_name" content="Kevin wang's blog"><meta property="og:description" content="Kafka is an open-source distributed event streaming platform"><meta name=twitter:description content="Kafka is an open-source distributed event streaming platform"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2024-06-27T19:16:55"><meta property="article:modified_time" content="2024-06-27T19:16:55"><meta property="article:section" content="data"><meta property="article:section" content="event"><meta property="article:tag" content="data"><meta property="article:tag" content="event"><meta property="article:tag" content="kafka"><meta name=twitter:card content="summary"><meta name=twitter:site content="@kevinwang930"><meta name=twitter:creator content="@kevinwang930"><meta property="og:image" content="https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png"><meta property="twitter:image" content="https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png"><title>kafka introduction</title>
<link rel=icon href=https://kevinwang930.github.io/favicon.png><link rel=canonical href=https://kevinwang930.github.io/post/data/event/kafka/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://kevinwang930.github.io/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css></head><body><div id=blog><header id=header data-behavior=4><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=https://kevinwang930.github.io/ aria-label="Go to homepage">Kevin wang's blog</a></div><a class=header-right-picture href=https://kevinwang930.github.io/#about aria-label="Open the link: /#about"><img class=header-picture src=https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png alt="Author's picture"></a></header><nav id=sidebar data-behavior=4><div class=sidebar-container><div class=sidebar-profile><a href=https://kevinwang930.github.io/#about aria-label="Read more about the author"><img class=sidebar-profile-picture src=https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png alt="Author's picture"></a><h4 class=sidebar-profile-name>Kevin Wang</h4><h5 class=sidebar-profile-bio>Email: <a href=mailto:kevinwang930@hotmail.com>kevinwang930@hotmail.com</a></h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://kevinwang930.github.io/ title=Home><i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden=true></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://kevinwang930.github.io/categories title=Categories><i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden=true></i>
<span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://kevinwang930.github.io/tags title=Tags><i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden=true></i>
<span class=sidebar-button-desc>Tags</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://kevinwang930.github.io/archives title=Archives><i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden=true></i>
<span class=sidebar-button-desc>Archives</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://kevinwang930.github.io/#about title=About><i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden=true></i>
<span class=sidebar-button-desc>About</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/kevinwang930 target=_blank rel=noopener title=GitHub><i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden=true></i>
<span class=sidebar-button-desc>GitHub</span></a></li></ul><ul class=sidebar-buttons></ul></div></nav><div id=main data-behavior class=hasCoverMetaIn><article class=post id=top><div class="post-header main-content-wrap text-left"><h1 class=post-title>kafka introduction</h1><div class="postShorten-meta post-meta"><time datetime=2024-06-27T19:16:55+08:00>June 27, 2024
</time><span>in</span>
<a class=category-link href=https://kevinwang930.github.io/categories/data>data</a>,
<a class=category-link href=https://kevinwang930.github.io/categories/event>event</a></div></div><div class="post-content markdown"><div class=main-content-wrap><p>Kafka is an open-source distributed event streaming platform</p><h1 id=concept>Concept</h1><p><code>Servers</code> Kafka is run as a cluster of one or more services that can span multiple data centers or cloud regions.</p><p><code>Brokers</code> one type of server, form the storage layer, store partitions</p><p><code>Clients</code> allow one to read, write and process streams of events</p><p><code>Event</code> records the fact that something happened</p><p><code>Producer</code> Client application that publish(write) events to kafka</p><p><code>Consumer</code> client applications that subscribe to (read and process) these events.</p><p><code>Topics</code> Events are organized and durably stored in topics.</p><p><code>Partition</code> Topics are partitioned, spread over a number of buckets located on different kafka brokers</p><p><img src=images/image.png alt=partition></p><h1 id=network>Network</h1><p>Kafka Uses a binary protocol over TCP. The protocol defines all API as request response message pairs. All messages are size delimited and are made up of the following primitive types</p><pre tabindex=0><code>Boolean
int8...int64
varint
string
array
bytes
records
</code></pre><ul><li>Common Request and Response Structure</li></ul><pre tabindex=0><code>RequestOrResponse =&gt; Size (RequestMessage | ResponseMessage)
Size =&gt; int32
</code></pre><ul><li>Request Message Headers</li></ul><pre tabindex=0><code>Request Header v0 =&gt; request_api_key request_api_version correlation_id 
request_api_key =&gt; INT16
request_api_version =&gt; INT16
correlation_id =&gt; INT32


Request Header v1 =&gt; request_api_key request_api_version correlation_id client_id 
request_api_key =&gt; INT16
request_api_version =&gt; INT16
correlation_id =&gt; INT32
client_id =&gt; NULLABLE_STRING


Request Header v2 =&gt; request_api_key request_api_version correlation_id client_id TAG_BUFFER 
request_api_key =&gt; INT16
request_api_version =&gt; INT16
correlation_id =&gt; INT32
client_id =&gt; NULLABLE_STRING

Api_key defines api type
</code></pre><ul><li>Response Message Headers</li></ul><pre tabindex=0><code>Response Header v0 =&gt; correlation_id 
correlation_id =&gt; INT32

Response Header v1 =&gt; correlation_id TAG_BUFFER 
correlation_id =&gt; INT32
</code></pre><p>Other protocol formats can be found in <a href=https://kafka.apache.org/protocol>official doc</a></p><h1 id=producer>Producer</h1><p><code>KafkaProducer</code> A Kafka client that publishes records to the kafka cluster.
The Producer is thread safe and sharing a single producer instance across threads will generally be faster than having multiple instances
The <code>send()</code> method is asynchronous. When called, it adds the record to a buffer of pending record sends and immediately return.</p><p><code>RecordAccumulator</code> acts as a queue that accumulates records into <code>MemoryRecords</code></p><pre tabindex=0><code class=language-plantuml data-lang=plantuml>interface Producer&lt;K, V&gt; extends Closeable {
  Future&lt;RecordMetadata&gt; send(ProducerRecord&lt;K, V&gt; record)
  void flush()
}
class KafkaProducer&lt;K, V&gt; implements Producer {
    ProducerConfig producerConfig
    ProducerMetadata metadata
    RecordAccumulator accumulator
    Sender sender
    Thread ioThread
    Serializer&lt;K&gt; keySerializer
    Serializer&lt;V&gt; valueSerializer
    ProducerInterceptors&lt;K, V&gt; interceptors
}

class RecordAccumulator {
}

class Sender implements Runnable {
  KafkaClient client
  RecordAccumulator accumulator
  ProducerMetadata metadata
  TransactionManager transactionManager
}

class KafkaThread extends Thread 

class BufferPool

interface KafkaClient {
  boolean isReady(Node node, long now)
  boolean ready(Node node, long now)
  void send(ClientRequest request, long now)
  List&lt;ClientResponse&gt; poll(long timeout, long now)
  void wakeup()
  void disconnect(String nodeId)
  void close(String nodeId)
}

class NetworkClient implements KafkaClient {
  Selectable selector
  MetadataUpdater metadataUpdater
  ClusterConnectionStates connectionStates
  InFlightRequests inFlightRequests
}

interface Selectable {
  void send(NetworkSend send)
  void wakeup()
  void poll(long timeout)
}

class Selector implements Selectable {
  Selector nioSelector
  Map&lt;String, KafkaChannel&gt; channels
}

class ProducerMetadata {
  Map&lt;String, Long&gt; topics
  Set&lt;String&gt; newTopics
}

KafkaProducer o-- RecordAccumulator
KafkaProducer o-right- KafkaThread: ioThread
KafkaThread o-- Sender
RecordAccumulator o-- BufferPool
Sender o-- KafkaClient
NetworkClient o-- Selectable
KafkaProducer *-- ProducerMetadata
</code></pre><h2 id=metadata>Metadata</h2><p><code>Metadata</code> A class encapsulating some of the logic around metadata.
This class is shared by the client thread(for partitioning) and the background sender thread.</p><p><code>Metadata</code> is maintained for only a subset of topics, which can be added to over time.</p><p><code>MetadataSnapshot</code> An internal immutable snapshot of nodes, topics, and partitions in the kafka cluster.</p><pre tabindex=0><code class=language-plantuml data-lang=plantuml>class Metadata implements Closeable {
  MetadataSnapshot metadataSnapshot
  List&lt;InetSocketAddress&gt; bootstrapAddresses
  int updateVersion
  int requestVersion
  long lastRefreshMs
}

class MetadataSnapshot {
  - unauthorizedTopics: Set&lt;String&gt;
  - clusterInstance: Cluster
  - metadataByPartition: Map&lt;TopicPartition, PartitionMetadata&gt;
  - invalidTopics: Set&lt;String&gt;
  - topicNames: Map&lt;Uuid, String&gt;
  - nodes: Map&lt;Integer, Node&gt;
  - clusterId: String
  - topicIds: Map&lt;String, Uuid&gt;
  - controller: Node
  - internalTopics: Set&lt;String&gt;
}

class Cluster {
  List&lt;Node&gt; nodes
  Node controller
  Map&lt;TopicPartition, PartitionInfo&gt; partitionsByTopicPartition
  Map&lt;String, List&lt;PartitionInfo&gt;&gt; partitionsByTopic
  Map&lt;Integer, List&lt;PartitionInfo&gt;&gt; partitionsByNode
  Map&lt;Integer, Node&gt; nodesById
  ClusterResource clusterResource
  Map&lt;String, Uuid&gt; topicIds
  Map&lt;Uuid, String&gt; topicNames
}

class ProducerMetadata {
  Map&lt;String, Long&gt; topics
  Set&lt;String&gt; newTopics
}

Metadata o-- MetadataSnapshot
MetadataSnapshot o-- Cluster
Metadata &lt;|-right-  ProducerMetadata
</code></pre><h2 id=producer-configs>Producer Configs</h2><ul><li><code>batch.size</code>
Producer will attempt to batch records together into fewer requests whenever multiple records are being sent to the same partition. This setting gives the upper bound of the batch size to be sent.</li><li><code>linger.ms</code>
The producer groups together any records that arrive in between request transmissions into a single batched request. This setting gives the upper bound on the delay for batching.</li><li><code>retry.backoff.ms</code>
the amount of time to wait before attempting to retry a failed request to a given topic</li><li><code>retry.backoff.max.ms</code>
The maximum amount of time in milliseconds to wait when retrying a request to the broker that has repeatedly failed</li><li><code>reconnect.backoff.ms</code></li><li><code>reconnect.backoff.max.ms</code></li></ul><h1 id=server>Server</h1><pre tabindex=0><code class=language-plantuml data-lang=plantuml>class KafaRaftServer {
  SharedServer sharedServer
  Option[BrokerServer] broker
  Option[ControllerServer] controller
  startup()
  shutdown()
}


class BrokerServer {
  SharedServer sharedServer
  KafkaRaftManager[ApiMessageAndVersion] raftManager
  BrokerLifecycleManager lifecycleManager
  AssignmentsManager assignmentsManager
  KafkaApis dataPlaneRequestProcessor
  SocketServer socketServer
  KafkaRequestHandlerPool dataPlaneRequestHandlerPool
  Option[RemoteLogManager] remoteLogManagerOpt
  ReplicaManager _replicaManager
  GroupCoordinator groupCoordinator
  TransactionCoordinator transactionCoordinator
  NodeToControllerChannelManager clientToControllerChannelManager
  AutoTopicCreationManager autoTopicCreationManager
  KafkaScheduler kafkaScheduler
  KRaftMetadataCache metadataCache
}

class SharedServer {
  KafkaConfig brokerConfig
  KafkaConfig controllerConfig
  MetadataLoader loader
  SnapshotEmitter snapshotEmitter
  SnapshotGenerator snapshotGenerator
}

class ControllerServer {
  SharedServer
  KafkaConfigSchema
  BootstrapMetadata
  

}

class SocketServer {
  dataPlaneAcceptors
  dataPlaneRequestChannel
  memoryPool
  controlPlaneAcceptorOpt
  connectionQuotas
} 


KafaRaftServer *-- BrokerServer
KafaRaftServer *-- SharedServer
KafaRaftServer *-- ControllerServer
BrokerServer *-- SocketServer
</code></pre><h2 id=sharedserver>SharedServer</h2><p><code>SharedServer</code> manages the components which are shared between the BrokerServer and ControllerServer.
The shared components include the Raft manager, snapshot generator, and metadata loader.
A KRaft server running in combined mode as both a broker and a controller will still contain only a single SharedServer instance.</p><h2 id=brokerserver>BrokerServer</h2><p>A broker is responsible for</p><ul><li>Storing message data</li><li>serving producer and consumer requests</li><li>managing partitions and replicas</li></ul><h3 id=socketserver>SocketServer</h3><p>Handles new connections, requests and responses to and from broker.</p><ul><li>data-plane<ul><li>handles requests from clients and other brokers in the cluster</li><li>thread model<ul><li>1 Acceptor thread per listener, multiple listeners can be configured in kafkaConfig</li><li>Acceptor has N processor threads that each have their own selector and read requests from sockets. M handler threads that handle requests and produce responses back to the processor threads for writing.</li></ul></li></ul></li><li>control-plane<ul><li>handles requests from controller. This is optional and can be configured by specifying <code>controller.listener.name</code></li><li>thread model<ul><li>1 Acceptor thread handles new connection</li><li>Acceptor has 1 processor thread that has its own selector and read requests from the socket</li><li>1 Handler thread that handles requests and produces responses back to the processor thread for writing.</li></ul></li></ul></li></ul><pre tabindex=0><code class=language-plantuml data-lang=plantuml>abstract class Acceptor extends Runnable {
  socketServer
  nioSelector
  serverChannel
  thread
  processors
  run()
}

class SocketServer {
  dataPlaneAcceptors
  controlPlaneAcceptorOpt
}


class DataPlaneAcceptor extends Acceptor {

}
class controlPlaneAcceptorOpt extends Acceptor

class Processor {
  thread
  selector
  requestChannel
  newConnections
  responseQueue
  accept(socketChannel)

}

class Selector {
  nioSelector
  completedReceives
  completedSends
  channels
}

class  KafkaChannel {
  NetworkReceive receive
  NetworkSend send
  TransportLayer transportLayer
}

class RequestChannel {
  requestQueue
  processors
  callbackQueue
}

class BrokerServer {
  dataPlaneRequestHandlerPool
  groupCoordinator
  socketServer
  KafkaApis dataPlaneRequestProcessor
}

class KafkaRequestHandlerPool {
  requestChannel
}

class KafkaRequestHandler extends Runnable {
  requestChannel
  ApiRequestHandler apis
  void run()
}

class KafkaApis extends ApiRequestHandler {

}

SocketServer o-- DataPlaneAcceptor
SocketServer *-- controlPlaneAcceptorOpt
Acceptor *-- Processor
Processor *-- Selector
Selector *-- KafkaChannel
SocketServer *-- RequestChannel
BrokerServer *-- SocketServer
BrokerServer *-- KafkaRequestHandlerPool
KafkaRequestHandlerPool o-- KafkaRequestHandler
KafkaRequestHandler *-- RequestChannel
Processor *-- RequestChannel
KafkaRequestHandler *-- ApiRequestHandler
</code></pre><h2 id=controllerserver>ControllerServer</h2><p>Controller server is responsible for:</p><ul><li>Managing the overall state of the kafka cluster</li><li>Electing partition leaders</li><li>Handling administrative operations</li></ul><h1 id=security>security</h1><h2 id=sasl>SASL</h2><p>Simple Authentication and Security Layer(SASL) is a framework for authentication and data security in internet protocols. It decouple authentication mechanisms from application protocols.</p><h3 id=heading></h3></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small" href=https://kevinwang930.github.io/tags/data/>data</a>
<a class="tag tag--primary tag--small" href=https://kevinwang930.github.io/tags/event/>event</a>
<a class="tag tag--primary tag--small" href=https://kevinwang930.github.io/tags/kafka/>kafka</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://kevinwang930.github.io/post/java/reactor/ data-tooltip="Reactor Project in Java" aria-label="NEXT: Reactor Project in Java"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://kevinwang930.github.io/post/java/spring-cloud/nacos/ data-tooltip="NACOS - service and configuration management" aria-label="PREVIOUS: NACOS - service and configuration management"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://kevinwang930.github.io/post/data/event/kafka/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://kevinwang930.github.io/post/data/event/kafka/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https://kevinwang930.github.io/post/data/event/kafka/" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread aria-label="Leave a comment"><i class="far fa-comment"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div><div id=disqus_thread><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div><script type=text/javascript>var disqus_config=function(){this.page.url="https://kevinwang930.github.io/post/data/event/kafka/",this.page.identifier="/post/data/event/kafka/"};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="blog-kevinwang930",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script></div></article><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2025 Kevin Wang. All Rights Reserved</span></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://kevinwang930.github.io/post/java/reactor/ data-tooltip="Reactor Project in Java" aria-label="NEXT: Reactor Project in Java"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://kevinwang930.github.io/post/java/spring-cloud/nacos/ data-tooltip="NACOS - service and configuration management" aria-label="PREVIOUS: NACOS - service and configuration management"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://kevinwang930.github.io/post/data/event/kafka/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://kevinwang930.github.io/post/data/event/kafka/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https://kevinwang930.github.io/post/data/event/kafka/" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread aria-label="Leave a comment"><i class="far fa-comment"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div></div><div id=share-options-bar class=share-options-bar data-behavior=4><i id=btn-close-shareoptions class="fa fa-times"></i><ul class=share-options><li class=share-option><a class=share-option-btn target=new href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkevinwang930.github.io%2Fpost%2Fdata%2Fevent%2Fkafka%2F" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i><span>Share on Facebook</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fkevinwang930.github.io%2Fpost%2Fdata%2Fevent%2Fkafka%2F" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i><span>Share on Twitter</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fkevinwang930.github.io%2Fpost%2Fdata%2Fevent%2Fkafka%2F" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i><span>Share on Linkedin</span></a></li></ul></div><div id=share-options-mask class=share-options-mask></div></div><script>const loadScript=(e,t)=>{var n=document.createElement("script");n.onerror=e=>{throw new URIError("The script "+e.target.src+" didn't load correctly.")},t&&(n.onload=t),document.head.insertAdjacentElement("beforeend",n),n.src=e},loadPlantUMLOnNeed=()=>{let e="language-plantuml";document.querySelectorAll("[class^="+e+"]").length>0&&loadScript("https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js",()=>{(function(){Array.prototype.forEach.call(document.querySelectorAll("[class^="+e+"]"),function(e){let t=document.createElement("IMG");t.loading="lazy",t.src="http://www.plantuml.com/plantuml/svg/~1"+plantumlEncoder.encode(e.innerText),e.parentNode.insertBefore(t,e),e.style.display="none"})})(),console.log("PlantUML init done")})},loadMathJaxIfNeeded=()=>{if(document.body.textContent.includes("$")){const e=/\$[^$]+\$/.test(document.body.textContent)||/\$\$[^$]+\$\$/.test(document.body.textContent);e&&loadScript("https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML",()=>{MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center","HTML-CSS":{styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}}}),MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}};window.addEventListener("load",function(){loadPlantUMLOnNeed(),loadMathJaxIfNeeded()})</script><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-times"></i></div><img id=about-card-picture src=https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png alt="Author's picture"><h4 id=about-card-name>Kevin Wang</h4><div id=about-card-bio>Email: <a href=mailto:kevinwang930@hotmail.com>kevinwang930@hotmail.com</a></div><div id=about-card-job><i class="fa fa-briefcase"></i><br>software developer</div><div id=about-card-location><i class="fa fa-map-marker-alt"></i><br>Asia</div></div></div><div id=cover style=background-image:url(https://kevinwang930.github.io/images/cover.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://kevinwang930.github.io/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js></script><script async crossorigin=anonymous defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js></script><script async crossorigin=anonymous defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js></script><script async crossorigin=anonymous defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js></script><script async crossorigin=anonymous defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js></script><script async crossorigin=anonymous defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js></script><script async crossorigin=anonymous defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js></script><script async crossorigin=anonymous defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js></script><script async crossorigin=anonymous defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js></script><script async crossorigin=anonymous defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js></script><script async crossorigin=anonymous defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js></script><script>$(document).ready(function(){hljs.configure({classPrefix:"",useBR:!1}),$("pre.code-highlight > code, pre > code").each(function(e,t){$(this).hasClass("codeblock")||$(this).addClass("codeblock"),hljs.highlightBlock(t)})})</script></body></html>